generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model AppSettings {
  id          String   @id @default(cuid())
  key         String   @unique
  value       String
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("app_settings")
}

model MediaItem {
  id                   String    @id @default(cuid())
  title                String
  type                 String
  tmdbId               Int?
  imdbId               String?
  tvdbId               Int?
  year                 Int?
  lastWatched          DateTime?
  watchCount           Int       @default(0)
  sonarrId             Int?
  radarrId             Int?
  embyId               String    @unique
  mediaPath            String?
  parentFolder         String?
  sizeOnDisk           BigInt?
  dateAddedEmby        DateTime?
  dateAddedArr         DateTime?
  source               String?
  quality              String?
  qualityScore         Int?
  episodesOnDisk       Int?
  totalEpisodes        Int?
  seasonCount          Int?
  completionPercentage Int?
  monitored            Boolean?
  imdbRating           Float?
  tmdbRating           Float?
  playProgress         Int?
  fullyWatched         Boolean?
  runtime              Int?
  sizePerHour          Float?
  genres               Json
  overview             String?
  deletionScore        Float
  createdAt            DateTime  @default(now())
  updatedAt            DateTime  @updatedAt

  @@map("media_items")
  @@index([tmdbId])
  @@index([imdbId])
  @@index([tvdbId])
}
